NILE_RUNTIME := ../../nile/runtimes/c
CFLAGS       := -I$(NILE_RUNTIME) -pipe \
                -Wall -Werror -Wno-unused -Wno-uninitialized \
                -m64 -march=nocona -mfpmath=sse -mssse3 \
                -fstrict-aliasing -ffast-math -O3

%.o: %.c %.h Makefile.gcc
	$(CC) $< -c $(CFLAGS)

libgezira.a: gezira.o gezira-image.o
	$(AR) rcs $@ $^

clean:
	$(RM) *.o *.a
